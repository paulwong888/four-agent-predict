const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/MainSidebar-Bz2dCKb0.js","assets/_plugin-vue_export-helper-BwBpWJRZ.js","assets/src-BmrdBtCN.js","assets/preload-helper-CR0ecmWK.js","assets/icon-mgEZlgYz.js","assets/vue.runtime.esm-bundler-DDuXT-9r.js","assets/chunk-6z4oVpB-.js","assets/truncate-1c7Iwk7N.js","assets/_MapCache-pT3vKw8Z.js","assets/sanitize-html-Cfxibw1n.js","assets/empty-RTEMfF4N.js","assets/path-browserify-CTmc1OxV.js","assets/en-BYTsM8fR.js","assets/src-sI-DsSQQ.css","assets/nodeCreator.store-BXjpGwrk.js","assets/constants-C_oOJnqT.js","assets/merge-DCUiz6nU.js","assets/useTelemetry-C2EhNQhN.js","assets/dateformat-D7TIhVd4.js","assets/useDebounce-DyoINrYS.js","assets/useExternalHooks-CE2Rdzfk.js","assets/nodeIcon-BWTKM7V3.js","assets/templates.store-CFt_GGxU.js","assets/cloudPlan.store-Dw9c9iy4.js","assets/useToast-C8xM63lB.js","assets/sortByProperty-CUhVU03p.js","assets/versions.store-DbkVHo9d.js","assets/MainSidebarUserArea-ns2gnf4W.js","assets/MainSidebarUserArea-yJKeCkOz.css","assets/useBugReporting-CSx88Kxg.js","assets/usePageRedirectionHelper-BOaFWroN.js","assets/useKeybindings-DdITEiRN.js","assets/personalizedTemplatesV3.store-Bdk_O6S4.js","assets/constants-9ReQTHaF.js","assets/sourceControl.eventBus-D3rGavFB.js","assets/MainSidebar-BBUhoceu.css","assets/DataTableView-CjmZR5zg.js","assets/useMessage-HzD9OyTZ.js","assets/overlay-DxjKgl5T.js","assets/orderBy-BTQ4q55E.js","assets/TimeAgo-DCz5bgJ1.js","assets/smartDecimal-e9uPsnJa.js","assets/ProjectIcon-BYB-pK6e.js","assets/ProjectIcon-DT95ZcDW.css","assets/EnterpriseEdition.ee-D8leMYEH.js","assets/ResourcesListLayout-CYMu4eeN.js","assets/PageViewLayout-kj_BBPfv.js","assets/PageViewLayout-Cn6FD0Wt.css","assets/readyToRunWorkflowsV2.store-DpzmixIa.js","assets/folders.store-Cwp_DTVT.js","assets/ProjectSharing-C7uZgDYB.js","assets/ProjectSharing-DsD3YT5P.css","assets/ResourcesListLayout-BXBf2iZI.css","assets/ProjectHeader-DEFzma1m.js","assets/ProjectHeader-CY-3wSig.css","assets/DataTableActions-DaxPv0hC.js","assets/dataTable.store-BCpzMJoX.js","assets/InsightsSummary-DrNhXF20.js","assets/insights.constants-DK2g3nnD.js","assets/insights.utils-yRgER63l.js","assets/InsightsSummary-D4HBxG4I.css","assets/insights.store-DHwsBBEe.js","assets/DataTableView-ByKnlVtU.css","assets/DataTableDetailsView-DfuHqZEI.js","assets/date-picker-C3uJHiXB.js","assets/SelectedItemsInfo-COAY_nVN.js","assets/SelectedItemsInfo-DDbNnY7M.css","assets/useClipboard-CDW2KXIc.js","assets/ProjectBreadcrumb-By8DfPh7.js","assets/ProjectBreadcrumb-CAEDvzuN.css","assets/DataTableDetailsView-D4DdqXoL.css","assets/AddDataTableModal-LTiz3f6g.js","assets/dialog-CzxM5dHR.js","assets/Modal-BLXzXACj.js","assets/Modal-DNkRJkUt.css","assets/AddDataTableModal-BzS5Yqag.css","assets/InsightsDashboard-BT7Bkvwx.js","assets/InsightsDashboard-B5vBl-U6.css","assets/SettingsMCPView-DCPXx9Gg.js","assets/useCanvasOperations-CA0dp-vn.js","assets/usePinnedData-CxyLm90h.js","assets/focusPanel.store-Ce3wvzmP.js","assets/executions.store-a34D3haB.js","assets/banners.store-kqUkumsc.js","assets/banners-UK5wWFEI.css","assets/sso.store-lozzT1xX.js","assets/npsSurvey.store-Csg2H1Od.js","assets/roles.store-Cht5fHcq.js","assets/NodeIcon-B-yC7jws.js","assets/NodeIcon-eaW3atZy.css","assets/useMcp-6e1cFvMd.js","assets/mcp.store-C6qtFq7B.js","assets/mcp.constants-BCNosk1p.js","assets/useRecentResources-BC0Esj6S.js","assets/SettingsMCPView-BGXq9o_x.css","assets/ChatSidebar-CPc1aYS0.js","assets/ModalDrawer-Bg5aO4kb.js","assets/ModalDrawer-B-12esvU.css","assets/retry-sDkwzrPY.js","assets/useChatHubSidebarState-CIMmDtyQ.js","assets/CredentialIcon-BTWsGB9X.js","assets/CredentialIcon-bZrcXcyJ.css","assets/useAgent-C4F--s-E.js","assets/ChatSidebar-DGlWPwKB.css","assets/ChatView-xgZnR76F.js","assets/VueMarkdown-CURYkyJE.js","assets/useChatCredentials-C3vZOhu8.js","assets/useChatCredentials-AjXB38tk.css","assets/ChatView-DHznMgQO.css","assets/ChatAgentsView-BasmI1MJ.js","assets/ChatAgentsView-Be_TXcAc.css","assets/WorkflowsView-ColzzXSS.js","assets/usage.store-vsKaiPgm.js","assets/Draggable-D46Agirf.js","assets/Draggable-DfBtatxg.css","assets/WorkflowActivator-Bcr_CWwa.js","assets/useWorkflowActivate-C1HaO_mN.js","assets/useWorkflowSaving-eHdXvbOs.js","assets/WorkflowActivator-DSgMORP6.css","assets/readyToRunWorkflows.store-FlEk_nDy.js","assets/ProjectCardBadge-DhBZ503V.js","assets/ProjectCardBadge-B_wj_mAB.css","assets/EmptySharedSectionActionBox--XZfp9Ep.js","assets/TagsDropdown-rTwmy1Tm.js","assets/TagsDropdown-2j57MEiW.css","assets/WorkflowTagsDropdown-CC7yYT8W.js","assets/WorkflowsView-M8ExG7Q2.css","assets/CredentialsView-DCu-uXQr.js","assets/pickBy-CBLHIRgo.js","assets/externalSecrets.ee.store-fPuvdi_V.js","assets/CredentialsView-BDOl2A0w.css","assets/ProjectSettings-Bw-kbLnd.js","assets/radio-D_9iFkwT.js","assets/ProjectSettings-vir6puPd.css","assets/ExecutionsView-HlbzQA0k.js","assets/AnimatedSpinner-4ie3BOLv.js","assets/AnimatedSpinner-CoP6Lyme.css","assets/dateFormatter-CXO-zUXu.js","assets/ExecutionsTime-m3iQWqlX.js","assets/AnnotationTagsDropdown.ee-LOH7o9OO.js","assets/ExecutionsTime-BpajgDjV.css","assets/useExecutionHelpers-Dhozi48o.js","assets/ExecutionsView-DP5OXlS4.css","assets/ProjectVariables-Doq8iGJX.js","assets/ProjectVariables-eH7fm87s.css","assets/ChangePasswordView-CNDTS4oP.js","assets/AuthView-BtjWVrLs.js","assets/AuthView-Dg9ZkCud.css","assets/ErrorView-B6n1Ze1I.js","assets/ErrorView-D2OMvGTk.css","assets/EntityNotFound-D73p5C9Q.js","assets/EntityNotFound-D6gi5ngN.css","assets/EntityUnAuthorised-BXnRQb2d.js","assets/EntityUnAuthorised-D3XTbU6Y.css","assets/OAuthConsentView-BUqotaPM.js","assets/OAuthConsentView-CXZbBKS5.css","assets/ForgotMyPasswordView-CYAFILCl.js","assets/MainHeader-BQ2kNlpz.js","assets/useRunWorkflow-CekP-uxB.js","assets/FileSaver.min-DaytN8ae.js","assets/usePushConnection-BDiczpJQ.js","assets/assistant.store-CKoUz8Lx.js","assets/schemaPreview.store-C5btNE_R.js","assets/KeyboardShortcutTooltip-DOaNiBZG.js","assets/KeyboardShortcutTooltip-pRLqnHdh.css","assets/PushConnectionTracker-DiBH5u21.js","assets/SaveButton-ifh-TtEJ.js","assets/SaveButton-Dc01Y2MA.css","assets/useBeforeUnload-BE4AdTvs.js","assets/useWorkflowsCache-Bmj_2jFp.js","assets/MainHeader-Csdi9iXJ.css","assets/LogsPanel-DGRChHQg.js","assets/isEmpty-DEJCEdjU.js","assets/uniqBy-D5omy1pF.js","assets/NDVEmptyState-Dh9X5Hnf.js","assets/NDVEmptyState-Hm1vFJ4i.css","assets/vue-json-pretty-BAtqAAV1.js","assets/chatPanel.store-BuOYGMm5.js","assets/RunDataHtml-BNcvZDMJ.js","assets/RunDataHtml-Bu3RZcuV.css","assets/isEmpty-CAtRkxE7.css","assets/core-CH2Kku_3.js","assets/core-CzunNfUb.js","assets/xml-B_gYdkaU.js","assets/LogsPanel-Im6Xot5b.js","assets/useLogsTreeExpand-Cngh87Y5.js","assets/useLogsTreeExpand-nZMKe2ps.css","assets/LogsPanel-GVBE8bfm.css","assets/DemoFooter-CLI0MOeI.js","assets/NodeView-Cl8gZpWX.js","assets/ParameterInputList-wGmUNHBl.js","assets/exports-D2D_Xd3F.js","assets/vue-RAk0R0Jn.js","assets/VirtualSchema-DLhLWlaa.js","assets/useTelemetryContext-CqvI0krW.js","assets/useTelemetryContext-BpnKRIT7.css","assets/nodeTransforms-CSXaQK2h.js","assets/TextWithHighlights-CxxIad3D.js","assets/TextWithHighlights-BgbTzzK2.css","assets/VirtualSchema-BJ-Q30Fz.css","assets/ParameterInputList-D18bFGrO.css","assets/useCanvasMapping-CbECykCB.js","assets/NodeSettings-EMakQtdb.js","assets/col-8Hwwbr76.js","assets/CommunityNodeUpdateInfo-CLRaJk1W.js","assets/semver-CRfiE2Wb.js","assets/CommunityNodeUpdateInfo-kPDiipF5.css","assets/useActions-yIxD_z2G.js","assets/NodeSettings-DKlYbu9E.css","assets/useCanvasMapping-Bldjj0CO.css","assets/useExecutionData-CdzbMYbb.js","assets/useExecutionDebugging-DMvUiD-V.js","assets/NodeView-CnbgHMAv.css","assets/WorkflowExecutionsView-BMRG4gRp.js","assets/useIntersectionObserver-C8Bz3yon.js","assets/WorkflowExecutionsInfoAccordion-kIjY-xAo.js","assets/WorkflowExecutionsInfoAccordion-CEOvJ-SX.css","assets/WorkflowExecutionsView-J4lWGYW8.css","assets/WorkflowExecutionsLandingPage-C3BO0OjF.js","assets/WorkflowExecutionsLandingPage-DMldlKod.css","assets/WorkflowExecutionsPreview-D0-aYC0X.js","assets/WorkflowPreview-DXvhQ6Rs.js","assets/WorkflowPreview-CYpzxJej.css","assets/WorkflowExecutionsPreview-BkXT82z5.css","assets/SettingsView-D3RYTTDS.js","assets/SettingsView-6sirGv9l.css","assets/SettingsLdapView-CpUy8oZp.js","assets/table-utH6uwMI.js","assets/SettingsLdapView-BuamZyhu.css","assets/SettingsPersonalView-BrN1Um5r.js","assets/auth.eventBus-CzdCLlJU.js","assets/SettingsPersonalView-DEpYU3TT.css","assets/SettingsUsersView-C9B5I5Mo.js","assets/SettingsUsersView-CfJcVjkl.css","assets/SettingsCommunityNodesView-BDKBupA3.js","assets/SettingsCommunityNodesView-m7kLUpJK.css","assets/SettingsApiView-BEStzzFN.js","assets/apiKeys.store-D48MzyaS.js","assets/SettingsApiView-Dtl_N9mK.css","assets/SettingsLogStreamingView-D0HFJAKV.js","assets/logStreaming.store-NIRD7cH9.js","assets/SettingsLogStreamingView-xo-rTSA0.css","assets/SetupView-DzZRoXh9.js","assets/SigninView-Bqis_X5S.js","assets/SigninView-BQgsTN8o.css","assets/SignupView-D2BS22Hw.js","assets/TemplatesCollectionView-DYu6n-EH.js","assets/TemplatesView-C0ExQ8hI.js","assets/TemplatesView-iSPzXjQB.css","assets/TemplateList-Dub3jUuN.js","assets/TemplateList-CNUtq0N7.css","assets/TemplateDetails-DAZ1zn51.js","assets/TemplateDetails-DfyKyMyy.css","assets/templateActions-DbrrFG6N.js","assets/templateTransforms-CAgEhQ8p.js","assets/TemplatesCollectionView-klb8FT9y.css","assets/TemplatesWorkflowView-CuXr1YjP.js","assets/TemplatesWorkflowView-CBjRBbmw.css","assets/SetupWorkflowFromTemplateView-B3FsPCqT.js","assets/SetupTemplateFormStep-JIuqDPPb.js","assets/SetupTemplateFormStep-She0GnTz.css","assets/SetupWorkflowFromTemplateView-CU2iGJTa.css","assets/TemplatesSearchView-BF4y_4vL.js","assets/TemplatesSearchView-BfT0LMil.css","assets/SettingsUsageAndPlan-CMfb7a_M.js","assets/SettingsUsageAndPlan-DcH3fsn1.css","assets/SettingsSso--wo6zIhK.js","assets/CopyInput-EV0b_4Vy.js","assets/CopyInput-BiDmlr9B.css","assets/SettingsSso-w7Iz4Luy.css","assets/SignoutView-C0JK-pnv.js","assets/SamlOnboarding-C9yGS8c4.js","assets/SettingsSourceControl-aDY7s_0s.js","assets/SettingsSourceControl-DEs9MNB6.css","assets/SettingsExternalSecrets-CiMYbzl_.js","assets/ExternalSecretsProviderConnectionSwitch.ee-C5gjVLhT.js","assets/ExternalSecretsProviderConnectionSwitch-dpp96SMy.css","assets/SettingsExternalSecrets-CaiOf7cD.css","assets/SettingsProvisioningView-Cn9a_ug5.js","assets/SettingsProvisioningView-C4D0a4Kz.css","assets/WorkerView-DoHbJCIL.js","assets/chart-CE3HWIkr.js","assets/dist-D33xoYUY.js","assets/WorkerView-4m_NaoAx.css","assets/WorkflowHistory-CriOQDVi.js","assets/WorkflowHistory-BmerBiKz.css","assets/WorkflowOnboardingView-BPszOHsf.js","assets/EvaluationsView-Csn3ughO.js","assets/evaluation.constants-D-6AlWkL.js","assets/evaluation-CGxdCHrN.css","assets/EvaluationsView-CmcDUAS_.css","assets/TestRunDetailView-C636CHKJ.js","assets/TestRunDetailView-CVGty0j0.css","assets/EvaluationsRootView-CNxtX4p0.js","assets/EvaluationsRootView-BVNlhh2l.css","assets/PrebuiltAgentTemplatesView-Bfl6hOXU.js","assets/PrebuiltAgentTemplatesView-jF7HvWnL.css","assets/ProjectRolesView-Ck8bCAfB.js","assets/ProjectRolesView-Bpk_JP1z.css","assets/ProjectRoleView-eSYKYNYl.js","assets/ProjectRoleView-Ds9qdhh9.css"])))=>i.map(i=>d[i]);
import { C as computed, Gt as unref, L as h, M as createVNode, P as defineComponent, Sn as toDisplayString, T as createBlock, bt as withCtx, et as openBlock, j as createTextVNode, ot as resolveComponent } from "./vue.runtime.esm-bundler-DDuXT-9r.js";
import { _t as I18nT, gt as useI18n } from "./_MapCache-pT3vKw8Z.js";
import { t as __vitePreload } from "./preload-helper-CR0ecmWK.js";
import { _ as isNavigationFailure, g as createWebHistory, h as createRouter, m as RouterView } from "./truncate-1c7Iwk7N.js";
import { $n as hasRole, Bo as useSettingsStore, Ci as tryToParseNumber, Dn as useSourceControlStore, En as useProjectsStore, Fi as register, Jn as isDefaultUser, Kn as isGuest, Ni as useUIStore, Qn as useRBACStore, Qs as useRootStore, Xn as shouldEnableMfa, Yn as isAuthenticated, Zn as hasScope, er as useUsersStore, i as usePostHog, qn as isEnterpriseFeatureEnabled, rt as useNodeTypesStore, sc as MfaRequiredError, t as useTelemetry } from "./useTelemetry-C2EhNQhN.js";
import { t as useToast } from "./useToast-C8xM63lB.js";
import { Hs as EnterpriseEditionFeature, Kn as DATA_TABLE_VIEW, Ln as ADD_DATA_TABLE_MODAL_KEY, Rs as SSO_JUST_IN_TIME_PROVSIONING_EXPERIMENT, Vn as DATA_TABLE_DETAILS, _r as getResourcePermissions, fo as EDITABLE_CANVAS_VIEWS, ir as PROJECT_DATA_TABLES, mo as VIEWS } from "./constants-C_oOJnqT.js";
import { t as useExternalHooks } from "./useExternalHooks-CE2Rdzfk.js";
import { t as useNpsSurveyStore } from "./npsSurvey.store-Csg2H1Od.js";
import { t as useCloudPlanStore } from "./cloudPlan.store-Dw9c9iy4.js";
import { t as useTemplatesStore } from "./templates.store-CFt_GGxU.js";
import { _ as useCalloutHelpers } from "./nodeCreator.store-BXjpGwrk.js";
import { t as useVersionsStore } from "./versions.store-DbkVHo9d.js";
import { t as useBannersStore } from "./banners.store-kqUkumsc.js";
import { t as useDataTableStore } from "./dataTable.store-BCpzMJoX.js";
import { t as useRolesStore } from "./roles.store-Cht5fHcq.js";
import { n as useSSOStore } from "./sso.store-lozzT1xX.js";
import { t as useInsightsStore } from "./insights.store-DHwsBBEe.js";
import { r as MCP_SETTINGS_VIEW } from "./mcp.constants-BCNosk1p.js";
import { i as CHAT_VIEW, n as CHAT_CONVERSATION_VIEW, t as CHAT_AGENTS_VIEW } from "./constants-9ReQTHaF.js";
import { t as useRecentResources } from "./useRecentResources-BC0Esj6S.js";
const authenticatedMiddleware = async (to, _from, next, options) => {
	const url = new URL(window.location.href);
	url.searchParams.delete("redirect");
	const redirect = to.query.redirect ?? encodeURIComponent(`${url.pathname}${url.search}`);
	if (!isAuthenticated(options)) return next({
		name: VIEWS.SIGNIN,
		query: { redirect }
	});
	if (shouldEnableMfa()) {
		if (to.name !== VIEWS.PERSONAL_SETTINGS) return next({
			name: VIEWS.PERSONAL_SETTINGS,
			query: { redirect }
		});
		return;
	}
};
const enterpriseMiddleware = async (_to, _from, next, options) => {
	if (!isEnterpriseFeatureEnabled(options)) return next({ name: VIEWS.HOMEPAGE });
};
const guestMiddleware = async (to, _from, next) => {
	if (!isGuest()) {
		const redirect = to.query.redirect ?? "";
		if (redirect.startsWith("/")) return next(redirect);
		try {
			if (new URL(redirect).origin === window.location.origin) return next(redirect);
		} catch {}
		return next({ name: VIEWS.HOMEPAGE });
	}
};
function inferProjectIdFromRoute(to) {
	const routeParts = to.path.split("/");
	const projectsIndex = routeParts.indexOf("projects");
	return routeParts[projectsIndex !== -1 ? projectsIndex + 1 : -1];
}
function inferResourceTypeFromRoute(to) {
	const routeParts = to.path.split("/");
	const routeMap = {
		workflow: "workflows",
		credential: "credentials",
		user: "users",
		variable: "variables",
		sourceControl: "source-control",
		externalSecret: "external-secrets"
	};
	const isResource = (key) => routeParts.includes(routeMap[key]);
	for (const resource of Object.keys(routeMap)) if (isResource(resource)) return resource;
}
function inferResourceIdFromRoute(to) {
	return to.params.id ?? to.params.name;
}
const rbacMiddleware = async (to, _from, next, { scope, options }) => {
	const projectId = inferProjectIdFromRoute(to);
	const resourceType = inferResourceTypeFromRoute(to);
	if (!hasScope({
		scope,
		projectId,
		resourceType,
		resourceId: resourceType ? inferResourceIdFromRoute(to) : void 0,
		options
	})) return next({ name: VIEWS.HOMEPAGE });
};
const roleMiddleware = async (_to, _from, next, checkRoles) => {
	if (!hasRole(checkRoles)) return next({ name: VIEWS.HOMEPAGE });
};
const customMiddleware = async (to, from, next, isValid) => {
	if (!isValid({
		to,
		from,
		next
	})) return next({ name: VIEWS.HOMEPAGE });
};
const defaultUserMiddleware = async (_to, _from, next) => {
	if (!isDefaultUser()) return next({ name: VIEWS.HOMEPAGE });
};
const middleware = {
	authenticated: authenticatedMiddleware,
	custom: customMiddleware,
	defaultUser: defaultUserMiddleware,
	enterprise: enterpriseMiddleware,
	guest: guestMiddleware,
	rbac: rbacMiddleware,
	role: roleMiddleware
};
var SourceControlInitializationErrorMessage_default = /* @__PURE__ */ defineComponent({
	__name: "SourceControlInitializationErrorMessage",
	setup(__props) {
		const i18n$2 = useI18n();
		return (_ctx, _cache) => {
			const _component_RouterLink = resolveComponent("RouterLink");
			return openBlock(), createBlock(unref(I18nT), {
				keypath: "settings.sourceControl.connection.error.message",
				tag: "div",
				scope: "global"
			}, {
				link: withCtx(() => [createVNode(_component_RouterLink, { to: { name: unref(VIEWS).SOURCE_CONTROL } }, {
					default: withCtx(() => [createTextVNode(toDisplayString(unref(i18n$2).baseText("settings.sourceControl.connection.error.link")), 1)]),
					_: 1
				}, 8, ["to"])]),
				_: 1
			});
		};
	}
});
var i18n$1 = useI18n();
var MainSidebar$3 = async () => await __vitePreload(() => import("./MainSidebar-Bz2dCKb0.js"), __vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35]));
var DataTableView = async () => await __vitePreload(() => import("./DataTableView-CjmZR5zg.js"), __vite__mapDeps([36,1,2,3,4,5,6,7,8,9,10,11,12,13,15,16,17,18,19,37,24,20,38,39,40,41,42,43,44,45,46,47,48,23,49,50,51,52,53,54,55,56,57,58,59,60,61,62]));
var DataTableDetailsView = async () => await __vitePreload(() => import("./DataTableDetailsView-DfuHqZEI.js"), __vite__mapDeps([63,1,2,3,4,5,6,7,8,9,10,11,12,13,15,16,17,18,19,64,37,24,20,38,39,42,43,65,66,67,55,56,68,69,70]));
const DataTableModule = {
	id: "data-table",
	name: "Data Table",
	description: "Manage and store data efficiently with the Data Table module.",
	icon: "database",
	modals: [{
		key: ADD_DATA_TABLE_MODAL_KEY,
		component: async () => await __vitePreload(() => import("./AddDataTableModal-LTiz3f6g.js"), __vite__mapDeps([71,1,2,3,4,5,6,7,8,9,10,11,12,13,15,16,17,18,19,72,38,24,20,73,74,56,75])),
		initialState: { open: false }
	}],
	routes: [
		{
			name: DATA_TABLE_VIEW,
			path: "/home/datatables",
			components: {
				default: DataTableView,
				sidebar: MainSidebar$3
			},
			meta: { middleware: ["authenticated", "custom"] }
		},
		{
			name: PROJECT_DATA_TABLES,
			path: "datatables/:new(new)?",
			props: true,
			components: {
				default: DataTableView,
				sidebar: MainSidebar$3
			},
			meta: {
				projectRoute: true,
				middleware: ["authenticated", "custom"]
			}
		},
		{
			name: DATA_TABLE_DETAILS,
			path: "datatables/:id",
			props: true,
			components: {
				default: DataTableDetailsView,
				sidebar: MainSidebar$3
			},
			meta: {
				projectRoute: true,
				middleware: ["authenticated", "custom"]
			}
		}
	],
	projectTabs: {
		overview: [{
			label: i18n$1.baseText("dataTable.dataTables"),
			value: DATA_TABLE_VIEW,
			to: { name: DATA_TABLE_VIEW }
		}],
		project: [{
			label: i18n$1.baseText("dataTable.dataTables"),
			value: PROJECT_DATA_TABLES,
			dynamicRoute: {
				name: PROJECT_DATA_TABLES,
				includeProjectId: true
			}
		}]
	},
	resources: [{
		key: "dataTable",
		displayName: "Data Table"
	}]
};
var resources = /* @__PURE__ */ new Map();
function registerResource(metadata) {
	resources.set(metadata.key, metadata);
}
var MainSidebar$2 = async () => await __vitePreload(() => import("./MainSidebar-Bz2dCKb0.js"), __vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35]));
var InsightsDashboard = async () => await __vitePreload(() => import("./InsightsDashboard-BT7Bkvwx.js"), __vite__mapDeps([76,1,2,3,4,5,6,7,8,9,10,11,12,13,15,16,17,18,19,72,38,24,20,39,41,42,43,26,30,23,50,51,57,58,59,60,61,77]));
const InsightsModule = {
	id: "insights",
	name: "Insights",
	description: "Provides insights and analytics features for projects.",
	icon: "chart-column-decreasing",
	routes: [{
		path: "/insights",
		beforeEnter() {
			return useInsightsStore().isInsightsEnabled || { name: VIEWS.NOT_FOUND };
		},
		components: {
			default: RouterView,
			sidebar: MainSidebar$2
		},
		meta: {
			middleware: ["authenticated", "rbac"],
			middlewareOptions: { rbac: { scope: ["insights:list"] } }
		},
		children: [{
			path: ":insightType?",
			name: VIEWS.INSIGHTS,
			beforeEnter(to) {
				if (to.params.insightType) return true;
				return Object.assign(to, { params: {
					...to.params,
					insightType: "total"
				} });
			},
			component: InsightsDashboard,
			props: true
		}]
	}]
};
var i18n = useI18n();
var SettingsMCPView = async () => await __vitePreload(() => import("./SettingsMCPView-DCPXx9Gg.js"), __vite__mapDeps([78,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,79,67,80,81,49,82,40,42,43,83,84,85,86,87,26,88,89,33,90,91,92,56,61,59,58,93,94]));
const MCPModule = {
	id: "mcp",
	name: "MCP Access",
	description: "Access your n8n instance through MCP clients",
	icon: "mcp",
	routes: [{
		path: "mcp",
		name: MCP_SETTINGS_VIEW,
		components: { settingsView: SettingsMCPView },
		meta: {
			middleware: ["authenticated", "custom"],
			telemetry: { pageCategory: "settings" }
		}
	}],
	settingsPages: [{
		id: "settings-mcp",
		icon: "mcp",
		label: i18n.baseText("settings.mcp"),
		position: "top",
		route: { to: { name: MCP_SETTINGS_VIEW } }
	}]
};
var ChatSidebar = async () => await __vitePreload(() => import("./ChatSidebar-CPc1aYS0.js"), __vite__mapDeps([95,1,2,3,4,5,6,7,8,9,10,11,12,13,15,16,17,18,19,72,38,96,97,37,24,20,98,27,28,99,33,100,101,102,103]));
var ChatView = async () => await __vitePreload(() => import("./ChatView-xgZnR76F.js"), __vite__mapDeps([104,1,2,3,4,5,6,7,8,9,10,11,12,13,15,16,17,18,19,72,38,37,24,20,105,98,73,74,67,99,33,100,101,106,107,102,108]));
var ChatAgentsView = async () => await __vitePreload(() => import("./ChatAgentsView-BasmI1MJ.js"), __vite__mapDeps([109,1,2,3,4,5,6,7,8,9,10,11,12,13,15,16,17,18,19,72,38,37,24,20,40,98,73,74,99,33,100,101,106,107,110]));
var modules = [
	InsightsModule,
	DataTableModule,
	MCPModule,
	{
		id: "chat-hub",
		name: "Chat",
		description: "Interact with various LLM models or your n8n AI agents.",
		icon: "chat",
		modals: [],
		routes: [
			{
				name: CHAT_VIEW,
				path: "/home/chat",
				components: {
					default: ChatView,
					sidebar: ChatSidebar
				},
				meta: { middleware: ["authenticated", "custom"] }
			},
			{
				name: CHAT_CONVERSATION_VIEW,
				path: "/home/chat/:id",
				components: {
					default: ChatView,
					sidebar: ChatSidebar
				},
				meta: { middleware: ["authenticated", "custom"] }
			},
			{
				name: CHAT_AGENTS_VIEW,
				path: "/home/chat/agents",
				components: {
					default: ChatAgentsView,
					sidebar: ChatSidebar
				},
				meta: { middleware: ["authenticated", "custom"] }
			}
		],
		projectTabs: {
			overview: [],
			project: []
		},
		resources: [{
			key: "chat",
			displayName: "Chat"
		}]
	}
];
const registerModuleResources = () => {
	modules.forEach((module) => {
		module.resources?.forEach((resource) => {
			registerResource(resource);
		});
	});
};
const registerModuleProjectTabs = () => {
	const uiStore = useUIStore();
	modules.forEach((module) => {
		if (module.projectTabs) {
			if (module.projectTabs.overview) uiStore.registerCustomTabs("overview", module.id, module.projectTabs.overview);
			if (module.projectTabs.project) uiStore.registerCustomTabs("project", module.id, module.projectTabs.project);
			if (module.projectTabs.shared) uiStore.registerCustomTabs("shared", module.id, module.projectTabs.shared);
		}
	});
};
const registerModuleSettingsPages = () => {
	const uiStore = useUIStore();
	modules.forEach((module) => {
		if (module.settingsPages && module.settingsPages.length > 0) uiStore.registerSettingsPages(module.id, module.settingsPages);
	});
};
var checkModuleAvailability = (options) => {
	if (!options?.to?.meta?.moduleName || typeof options.to.meta.moduleName !== "string") return true;
	return useSettingsStore().isModuleActive(options.to.meta.moduleName);
};
const registerModuleModals = () => {
	modules.forEach((module) => {
		module.modals?.forEach((modalDef) => {
			register(modalDef);
		});
	});
	useUIStore().initializeModalsFromRegistry();
};
const registerModuleRoutes = (router$1) => {
	modules.forEach((module) => {
		module.routes?.forEach((route) => {
			const enhancedRoute = {
				...route,
				meta: {
					...route.meta,
					moduleName: module.id,
					...route.meta?.middleware?.includes("custom") && { middlewareOptions: {
						...route.meta?.middlewareOptions,
						custom: checkModuleAvailability
					} }
				}
			};
			if (route.meta?.projectRoute) router$1.addRoute(VIEWS.PROJECT_DETAILS, enhancedRoute);
			else if (route.meta?.telemetry && route.meta.telemetry.pageCategory === "settings") router$1.addRoute(VIEWS.SETTINGS, enhancedRoute);
			else router$1.addRoute(enhancedRoute);
		});
	});
};
const state = { initialized: false };
var authenticatedFeaturesInitialized = false;
async function initializeCore() {
	if (state.initialized) return;
	const settingsStore = useSettingsStore();
	const usersStore = useUsersStore();
	const versionsStore = useVersionsStore();
	const ssoStore = useSSOStore();
	const bannersStore = useBannersStore();
	const toast = useToast();
	const i18n$2 = useI18n();
	registerAuthenticationHooks();
	try {
		await settingsStore.initialize();
	} catch (error) {
		toast.showToast({
			title: i18n$2.baseText("startupError"),
			message: i18n$2.baseText("startupError.message"),
			type: "error",
			duration: 0
		});
	}
	ssoStore.initialize({
		authenticationMethod: settingsStore.userManagement.authenticationMethod,
		config: settingsStore.settings.sso,
		features: {
			saml: settingsStore.isEnterpriseFeatureEnabled[EnterpriseEditionFeature.Saml],
			ldap: settingsStore.isEnterpriseFeatureEnabled[EnterpriseEditionFeature.Ldap],
			oidc: settingsStore.isEnterpriseFeatureEnabled[EnterpriseEditionFeature.Oidc]
		}
	});
	const banners = [];
	if (settingsStore.isEnterpriseFeatureEnabled.showNonProdBanner) banners.push("NON_PRODUCTION_LICENSE");
	if (!(settingsStore.settings.banners?.dismissed || []).includes("V1") && settingsStore.settings.versionCli.startsWith("1.")) banners.push("V1");
	bannersStore.loadStaticBanners({ banners });
	versionsStore.initialize(settingsStore.settings.versionNotifications);
	useExternalHooks().run("app.mount");
	if (!settingsStore.isPreviewMode) await usersStore.initialize({ quota: settingsStore.userManagement.quota });
	state.initialized = true;
}
async function initializeAuthenticatedFeatures(initialized = authenticatedFeaturesInitialized, routeName) {
	if (initialized) return;
	if (!useUsersStore().currentUser) return;
	const i18n$2 = useI18n();
	const toast = useToast();
	const sourceControlStore = useSourceControlStore();
	const settingsStore = useSettingsStore();
	const rootStore = useRootStore();
	const nodeTypesStore = useNodeTypesStore();
	const cloudPlanStore = useCloudPlanStore();
	const projectsStore = useProjectsStore();
	const rolesStore = useRolesStore();
	const insightsStore = useInsightsStore();
	const bannersStore = useBannersStore();
	const versionsStore = useVersionsStore();
	const dataTableStore = useDataTableStore();
	if (sourceControlStore.isEnterpriseSourceControlEnabled) try {
		await sourceControlStore.getPreferences();
	} catch (e) {
		toast.showMessage({
			title: i18n$2.baseText("settings.sourceControl.connection.error"),
			message: h(SourceControlInitializationErrorMessage_default),
			type: "error",
			duration: 0
		});
		console.error("Failed to initialize source control store", e);
	}
	if (rootStore.defaultLocale !== "en") await nodeTypesStore.getNodeTranslationHeaders();
	if (settingsStore.isCloudDeployment) cloudPlanStore.initialize().then(() => {
		if (cloudPlanStore.userIsTrialing) if (cloudPlanStore.trialExpired) bannersStore.pushBannerToStack("TRIAL_OVER");
		else bannersStore.pushBannerToStack("TRIAL");
		else if (cloudPlanStore.currentUserCloudInfo?.confirmed === false) bannersStore.pushBannerToStack("EMAIL_CONFIRMATION");
	}).catch((error) => {
		console.error("Failed to initialize cloud plan store:", error);
	});
	if (settingsStore.isDataTableFeatureEnabled) dataTableStore.fetchDataTableSize().then(({ quotaStatus }) => {
		if (quotaStatus === "error") bannersStore.pushBannerToStack("DATA_TABLE_STORAGE_LIMIT_ERROR");
		else if (quotaStatus === "warn") bannersStore.pushBannerToStack("DATA_TABLE_STORAGE_LIMIT_WARNING");
	}).catch((error) => {
		console.error("Failed to fetch data table limits:", error);
	});
	if (insightsStore.isSummaryEnabled) insightsStore.weeklySummary.execute();
	if (!settingsStore.isPreviewMode && routeName !== VIEWS.DEMO) versionsStore.checkForNewVersions();
	await Promise.all([
		projectsStore.getMyProjects(),
		projectsStore.getPersonalProject(),
		projectsStore.getProjectsCount(),
		rolesStore.fetchRoles()
	]);
	registerModuleResources();
	registerModuleProjectTabs();
	registerModuleModals();
	registerModuleSettingsPages();
	authenticatedFeaturesInitialized = true;
}
function registerAuthenticationHooks() {
	const rootStore = useRootStore();
	const usersStore = useUsersStore();
	const cloudPlanStore = useCloudPlanStore();
	const postHogStore = usePostHog();
	const bannersStore = useBannersStore();
	const npsSurveyStore = useNpsSurveyStore();
	const telemetry = useTelemetry();
	const RBACStore = useRBACStore();
	const settingsStore = useSettingsStore();
	usersStore.registerLoginHook(async (user) => {
		await settingsStore.getSettings();
		RBACStore.setGlobalScopes(user.globalScopes ?? []);
		telemetry.identify(rootStore.instanceId, user.id, rootStore.versionCli);
		postHogStore.init(user.featureFlags);
		npsSurveyStore.setupNpsSurveyOnLogin(user.id, user.settings);
		settingsStore.getModuleSettings();
		bannersStore.loadDynamicBanners();
	});
	usersStore.registerLogoutHook(() => {
		bannersStore.clearBannerStack();
		npsSurveyStore.resetNpsSurveyOnLogOut();
		postHogStore.reset();
		cloudPlanStore.reset();
		telemetry.reset();
		RBACStore.setGlobalScopes([]);
	});
}
var MainSidebar$1 = async () => await __vitePreload(() => import("./MainSidebar-Bz2dCKb0.js"), __vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35]));
var WorkflowsView = async () => await __vitePreload(() => import("./WorkflowsView-ColzzXSS.js"), __vite__mapDeps([111,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,37,24,38,39,40,41,42,43,86,112,113,114,44,88,89,115,116,117,81,68,69,49,118,45,46,47,48,50,51,52,53,54,119,32,90,91,92,120,121,122,57,58,59,60,61,123,124,125,126]));
var CredentialsView = async () => await __vitePreload(() => import("./CredentialsView-DCu-uXQr.js"), __vite__mapDeps([127,1,2,3,4,5,6,7,8,9,10,11,12,13,15,16,17,18,19,37,24,20,38,39,128,40,41,42,43,44,45,46,47,48,23,49,50,51,52,53,54,120,121,122,100,101,57,58,59,60,61,129,130]));
var ProjectSettings = async () => await __vitePreload(() => import("./ProjectSettings-Bw-kbLnd.js"), __vite__mapDeps([131,1,2,3,4,5,6,7,8,9,10,11,12,13,15,16,17,18,19,72,38,24,20,132,39,42,43,87,26,30,23,53,48,49,54,50,51,133]));
var ExecutionsView = async () => await __vitePreload(() => import("./ExecutionsView-HlbzQA0k.js"), __vite__mapDeps([134,1,2,3,4,5,6,7,8,9,10,11,12,13,15,16,17,18,19,64,37,24,20,38,41,42,43,26,135,136,65,66,30,23,137,53,48,49,54,138,139,123,124,125,140,141,82,57,58,59,60,61,142]));
var ProjectVariables = async () => await __vitePreload(() => import("./ProjectVariables-Doq8iGJX.js"), __vite__mapDeps([143,1,2,3,4,5,6,7,8,9,10,11,12,13,15,16,17,18,19,37,24,20,38,39,128,41,42,43,26,44,45,46,47,48,23,49,50,51,52,67,30,53,54,57,58,59,60,61,144]));
var checkProjectAvailability = (to) => {
	if (!to?.params.projectId) return true;
	return !!useProjectsStore().myProjects.find((p) => to?.params.projectId === p.id);
};
var commonChildRoutes = [
	{
		path: "workflows",
		components: {
			default: WorkflowsView,
			sidebar: MainSidebar$1
		},
		meta: {
			middleware: ["authenticated", "custom"],
			middlewareOptions: { custom: (options) => checkProjectAvailability(options?.to) }
		}
	},
	{
		path: "credentials/:credentialId?",
		props: true,
		components: {
			default: CredentialsView,
			sidebar: MainSidebar$1
		},
		meta: {
			middleware: ["authenticated", "custom"],
			middlewareOptions: { custom: (options) => checkProjectAvailability(options?.to) }
		}
	},
	{
		path: "executions",
		components: {
			default: ExecutionsView,
			sidebar: MainSidebar$1
		},
		meta: {
			middleware: ["authenticated", "custom"],
			middlewareOptions: { custom: (options) => checkProjectAvailability(options?.to) }
		}
	},
	{
		path: "folders/:folderId?/workflows",
		components: {
			default: WorkflowsView,
			sidebar: MainSidebar$1
		},
		meta: {
			middleware: ["authenticated", "custom"],
			middlewareOptions: { custom: (options) => checkProjectAvailability(options?.to) }
		}
	},
	{
		path: "variables",
		components: {
			default: ProjectVariables,
			sidebar: MainSidebar$1
		},
		meta: {
			middleware: ["authenticated", "custom"],
			middlewareOptions: { custom: (options) => checkProjectAvailability(options?.to) }
		}
	}
];
var commonChildRouteExtensions = {
	home: [
		{ name: VIEWS.WORKFLOWS },
		{ name: VIEWS.CREDENTIALS },
		{ name: VIEWS.EXECUTIONS },
		{ name: VIEWS.FOLDERS },
		{ name: VIEWS.HOME_VARIABLES }
	],
	projects: [
		{ name: VIEWS.PROJECTS_WORKFLOWS },
		{ name: VIEWS.PROJECTS_CREDENTIALS },
		{ name: VIEWS.PROJECTS_EXECUTIONS },
		{ name: VIEWS.PROJECTS_FOLDERS },
		{ name: VIEWS.PROJECTS_VARIABLES }
	]
};
const projectsRoutes = [
	{
		path: "/projects",
		name: VIEWS.PROJECTS,
		meta: { middleware: ["authenticated"] },
		redirect: "/home/workflows",
		children: [{
			name: VIEWS.PROJECT_DETAILS,
			path: ":projectId",
			meta: { middleware: ["authenticated"] },
			redirect: { name: VIEWS.PROJECTS_WORKFLOWS },
			children: commonChildRoutes.map((route, idx) => ({
				...route,
				name: commonChildRouteExtensions.projects[idx].name
			})).concat([{
				path: "settings",
				name: VIEWS.PROJECT_SETTINGS,
				components: {
					default: ProjectSettings,
					sidebar: MainSidebar$1
				},
				meta: {
					middleware: ["authenticated", "custom"],
					middlewareOptions: { custom: (options) => {
						return !!getResourcePermissions(useProjectsStore().myProjects.find((p) => p.id === options?.to.params.projectId)?.scopes).project.update;
					} }
				}
			}])
		}]
	},
	{
		path: "/home",
		name: VIEWS.HOMEPAGE,
		meta: { middleware: ["authenticated"] },
		redirect: "/home/workflows",
		children: commonChildRoutes.map((route, idx) => ({
			...route,
			name: commonChildRouteExtensions.home[idx].name
		}))
	},
	{
		path: "/shared",
		name: VIEWS.SHARED_WITH_ME,
		meta: { middleware: ["authenticated"] },
		redirect: "/shared/workflows",
		children: [{
			path: "workflows",
			name: VIEWS.SHARED_WORKFLOWS,
			components: {
				default: WorkflowsView,
				sidebar: MainSidebar$1
			},
			meta: {
				middleware: ["authenticated", "custom"],
				middlewareOptions: { custom: (options) => checkProjectAvailability(options?.to) }
			}
		}, {
			path: "credentials/:credentialId?",
			props: true,
			name: VIEWS.SHARED_CREDENTIALS,
			components: {
				default: CredentialsView,
				sidebar: MainSidebar$1
			},
			meta: {
				middleware: ["authenticated", "custom"],
				middlewareOptions: { custom: (options) => checkProjectAvailability(options?.to) }
			}
		}]
	},
	{
		path: "/workflows",
		redirect: "/home/workflows"
	},
	{
		path: "/credentials",
		redirect: "/home/credentials"
	},
	{
		path: "/executions",
		redirect: "/home/executions"
	},
	{
		path: "/variables",
		redirect: "/home/variables"
	}
];
const useEnvFeatureFlag = () => {
	const settingsStore = useSettingsStore();
	return { check: computed(() => (flag) => {
		const key = `N8N_ENV_FEAT_${flag}`;
		const settingsProvidedEnvFeatFlag = settingsStore.settings.envFeatureFlags?.[key];
		if (settingsProvidedEnvFeatFlag !== void 0) return settingsProvidedEnvFeatFlag !== "false" && !!settingsProvidedEnvFeatFlag;
		const buildTimeValue = {
			"BASE_URL": "/%7B%7BBASE_PATH%7D%7D/",
			"DEV": false,
			"LEGACY": false,
			"MODE": "production",
			"PROD": true,
			"SSR": false,
			"VUE_APP_PUBLIC_PATH": "/{{BASE_PATH}}/"
		}[key];
		if (buildTimeValue !== void 0) return buildTimeValue !== "false" && !!buildTimeValue;
		return false;
	}) };
};
var ChangePasswordView = async () => await __vitePreload(() => import("./ChangePasswordView-CNDTS4oP.js"), __vite__mapDeps([145,1,2,3,4,5,6,7,8,9,10,11,12,13,15,16,17,18,19,24,20,85,146,147]));
var ErrorView = async () => await __vitePreload(() => import("./ErrorView-B6n1Ze1I.js"), __vite__mapDeps([148,1,2,3,4,5,6,7,8,9,10,11,12,13,15,16,149]));
var EntityNotFound = async () => await __vitePreload(() => import("./EntityNotFound-D73p5C9Q.js"), __vite__mapDeps([150,1,2,3,4,5,6,7,8,9,10,11,12,13,151]));
var EntityUnAuthorised = async () => await __vitePreload(() => import("./EntityUnAuthorised-BXnRQb2d.js"), __vite__mapDeps([152,1,2,3,4,5,6,7,8,9,10,11,12,13,153]));
var OAuthConsentView = async () => await __vitePreload(() => import("./OAuthConsentView-BUqotaPM.js"), __vite__mapDeps([154,1,2,3,4,5,6,7,8,9,10,11,12,13,15,16,17,18,19,24,20,92,155]));
var ForgotMyPasswordView = async () => await __vitePreload(() => import("./ForgotMyPasswordView-CYAFILCl.js"), __vite__mapDeps([156,1,2,3,4,5,6,7,8,9,10,11,12,13,15,16,17,18,19,24,20,85,146,147]));
var MainHeader = async () => await __vitePreload(() => import("./MainHeader-BQ2kNlpz.js"), __vite__mapDeps([157,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,158,24,79,67,80,81,49,82,98,117,37,38,86,159,160,161,162,119,48,42,43,83,84,26,44,163,164,165,166,167,115,116,68,69,118,168,30,169,90,92,123,124,125,170]));
var MainSidebar = async () => await __vitePreload(() => import("./MainSidebar-Bz2dCKb0.js"), __vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35]));
var LogsPanel = async () => await __vitePreload(() => import("./LogsPanel-DGRChHQg.js"), __vite__mapDeps([171,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,172,158,24,79,67,80,81,49,82,98,117,37,38,86,159,173,174,175,176,161,162,177,141,137,129,178,179,180,181,182,183,105,184,185,135,136,88,89,186,163,164,31,187]));
var DemoFooter = async () => await __vitePreload(() => import("./DemoFooter-CLI0MOeI.js"), __vite__mapDeps([188,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,172,158,24,79,67,80,81,49,82,98,117,37,38,86,159,173,174,175,176,161,162,177,141,137,129,178,179,180,181,182,183,105,184,185,135,136,88,89,186,163,164,31,187]));
var NodeView = async () => await __vitePreload(() => import("./NodeView-Cl8gZpWX.js"), __vite__mapDeps([189,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,172,158,24,79,67,80,81,49,82,98,117,37,38,86,159,173,174,175,176,161,162,177,141,137,129,178,179,180,190,191,192,64,72,193,113,114,88,89,194,195,196,197,198,199,200,201,202,203,56,204,205,206,207,208,163,164,31,209,26,168,30,119,210,211,34,212]));
var WorkflowExecutionsView = async () => await __vitePreload(() => import("./WorkflowExecutionsView-BMRG4gRp.js"), __vite__mapDeps([213,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,64,37,24,38,79,67,80,81,49,82,86,26,214,30,117,137,138,139,123,124,125,140,215,216,141,217]));
var WorkflowExecutionsLandingPage = async () => await __vitePreload(() => import("./WorkflowExecutionsLandingPage-C3BO0OjF.js"), __vite__mapDeps([218,1,2,3,4,5,6,7,8,9,10,11,12,13,15,16,17,18,19,37,24,20,38,86,117,81,22,23,215,216,219]));
var WorkflowExecutionsPreview = async () => await __vitePreload(() => import("./WorkflowExecutionsPreview-D0-aYC0X.js"), __vite__mapDeps([220,1,2,3,4,5,6,7,8,9,10,11,12,13,15,16,17,18,19,37,24,20,38,26,221,82,222,30,23,137,211,141,139,123,124,223]));
var SettingsView = async () => await __vitePreload(() => import("./SettingsView-D3RYTTDS.js"), __vite__mapDeps([224,1,2,3,4,5,6,7,8,9,10,11,12,13,15,16,17,18,19,225]));
var SettingsLdapView = async () => await __vitePreload(() => import("./SettingsLdapView-CpUy8oZp.js"), __vite__mapDeps([226,1,2,3,4,5,6,7,8,9,10,11,12,13,15,16,192,17,18,19,37,24,20,38,227,85,26,30,23,228]));
var SettingsPersonalView = async () => await __vitePreload(() => import("./SettingsPersonalView-BrN1Um5r.js"), __vite__mapDeps([229,1,2,3,4,5,6,7,8,9,10,11,12,13,15,16,17,18,19,24,20,85,23,230,231]));
var SettingsUsersView = async () => await __vitePreload(() => import("./SettingsUsersView-C9B5I5Mo.js"), __vite__mapDeps([232,1,2,3,4,5,6,7,8,9,10,11,12,13,15,16,17,18,19,24,20,132,85,26,44,67,30,23,137,233]));
var SettingsCommunityNodesView = async () => await __vitePreload(() => import("./SettingsCommunityNodesView-BDKBupA3.js"), __vite__mapDeps([234,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,158,24,79,67,80,81,49,82,98,117,37,38,86,205,160,161,162,119,48,235]));
var SettingsApiView = async () => await __vitePreload(() => import("./SettingsApiView-BEStzzFN.js"), __vite__mapDeps([236,1,2,3,4,5,6,7,8,9,10,11,12,13,15,16,17,18,19,203,37,24,20,38,237,26,30,23,238]));
var SettingsLogStreamingView = async () => await __vitePreload(() => import("./SettingsLogStreamingView-D0HFJAKV.js"), __vite__mapDeps([239,1,2,3,4,5,6,7,8,9,10,11,12,13,15,16,17,18,19,203,37,24,20,38,240,26,30,23,241]));
var SetupView = async () => await __vitePreload(() => import("./SetupView-DzZRoXh9.js"), __vite__mapDeps([242,1,2,3,4,5,6,7,8,9,10,11,12,13,15,16,17,18,19,24,20,85,146,147]));
var SigninView = async () => await __vitePreload(() => import("./SigninView-Bqis_X5S.js"), __vite__mapDeps([243,1,2,3,4,5,6,7,8,9,10,11,12,13,15,16,17,18,19,24,20,85,230,146,147,244]));
var SignupView = async () => await __vitePreload(() => import("./SignupView-D2BS22Hw.js"), __vite__mapDeps([245,1,2,3,4,5,6,7,8,9,10,11,12,13,15,16,17,18,19,24,20,85,146,147]));
var TemplatesCollectionView = async () => await __vitePreload(() => import("./TemplatesCollectionView-DYu6n-EH.js"), __vite__mapDeps([246,1,2,3,4,5,6,7,8,9,10,11,12,13,15,16,17,18,19,40,247,248,88,21,89,249,250,20,23,196,22,251,252,253,254,255]));
var TemplatesWorkflowView = async () => await __vitePreload(() => import("./TemplatesWorkflowView-CuXr1YjP.js"), __vite__mapDeps([256,1,2,3,4,5,6,7,8,9,10,11,12,13,15,16,17,18,19,24,20,40,247,248,88,21,89,221,82,222,23,196,22,251,252,253,254,257]));
var SetupWorkflowFromTemplateView = async () => await __vitePreload(() => import("./SetupWorkflowFromTemplateView-B3FsPCqT.js"), __vite__mapDeps([258,1,2,3,4,5,6,7,8,9,10,11,12,13,15,16,17,18,19,247,248,88,21,89,20,23,259,196,254,260,22,253,261]));
var TemplatesSearchView = async () => await __vitePreload(() => import("./TemplatesSearchView-BF4y_4vL.js"), __vite__mapDeps([262,1,2,3,4,5,6,7,8,9,10,11,12,13,15,16,17,18,19,24,20,39,40,247,248,88,21,89,249,250,23,22,263]));
var SettingsUsageAndPlan = async () => await __vitePreload(() => import("./SettingsUsageAndPlan-CMfb7a_M.js"), __vite__mapDeps([264,1,2,3,4,5,6,7,8,9,10,11,12,13,15,16,17,18,19,72,38,24,20,112,26,30,23,265]));
var SettingsSso = async () => await __vitePreload(() => import("./SettingsSso--wo6zIhK.js"), __vite__mapDeps([266,1,2,3,4,5,6,7,8,9,10,11,12,13,15,16,17,18,19,37,24,20,38,85,26,267,67,268,30,23,269]));
var SignoutView = async () => await __vitePreload(() => import("./SignoutView-C0JK-pnv.js"), __vite__mapDeps([270,4,5,6,7,8,15,10,16,17,18,19,24,20]));
var SamlOnboarding = async () => await __vitePreload(() => import("./SamlOnboarding-C9yGS8c4.js"), __vite__mapDeps([271,1,2,3,4,5,6,7,8,9,10,11,12,13,15,16,17,18,19,24,20,85,146,147]));
var SettingsSourceControl = async () => await __vitePreload(() => import("./SettingsSourceControl-aDY7s_0s.js"), __vite__mapDeps([272,1,2,3,4,5,6,7,8,9,10,11,12,13,15,16,17,18,19,37,24,20,38,26,267,67,268,30,23,273]));
var SettingsExternalSecrets = async () => await __vitePreload(() => import("./SettingsExternalSecrets-CiMYbzl_.js"), __vite__mapDeps([274,1,2,3,4,5,6,7,8,9,10,11,12,13,15,16,17,18,19,24,20,26,30,23,275,129,276,277]));
var SettingsProvisioningView = async () => await __vitePreload(() => import("./SettingsProvisioningView-Cn9a_ug5.js"), __vite__mapDeps([278,1,2,3,4,5,6,7,8,9,10,11,12,13,15,16,17,18,19,72,38,24,20,279]));
var WorkerView = async () => await __vitePreload(() => import("./WorkerView-DoHbJCIL.js"), __vite__mapDeps([280,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,281,158,24,79,67,80,81,49,82,98,117,37,38,86,282,160,161,162,119,48,25,26,165,30,283]));
var WorkflowHistory = async () => await __vitePreload(() => import("./WorkflowHistory-CriOQDVi.js"), __vite__mapDeps([284,1,2,3,4,5,6,7,8,9,10,11,12,13,15,16,17,18,19,24,20,159,26,221,82,222,214,30,23,285]));
var WorkflowOnboardingView = async () => await __vitePreload(() => import("./WorkflowOnboardingView-BPszOHsf.js"), __vite__mapDeps([286,8,5,6,15,7,10,16,17,18,19,23,22]));
var EvaluationsView = async () => await __vitePreload(() => import("./EvaluationsView-Csn3ughO.js"), __vite__mapDeps([287,1,2,3,4,5,6,7,8,9,10,11,12,13,281,15,16,17,18,19,24,20,227,39,282,135,136,137,288,289,290]));
var TestRunDetailView = async () => await __vitePreload(() => import("./TestRunDetailView-C636CHKJ.js"), __vite__mapDeps([291,1,2,3,4,5,6,7,8,9,10,11,12,13,15,16,17,18,19,24,20,227,39,169,137,288,289,292]));
var EvaluationRootView = async () => await __vitePreload(() => import("./EvaluationsRootView-CNxtX4p0.js"), __vite__mapDeps([293,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,79,67,80,81,49,82,112,26,30,294]));
var PrebuiltAgentTemplatesView = async () => await __vitePreload(() => import("./PrebuiltAgentTemplatesView-Bfl6hOXU.js"), __vite__mapDeps([295,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,88,89,46,47,296]));
function getTemplatesRedirect(defaultRedirect) {
	if (!useSettingsStore().isTemplatesEnabled) return { name: `${defaultRedirect}` || VIEWS.NOT_FOUND };
	return false;
}
const routes = [
	{
		path: "/",
		redirect: "/home/workflows",
		meta: { middleware: ["authenticated"] }
	},
	{
		path: "/collections/:id",
		name: VIEWS.COLLECTION,
		components: {
			default: TemplatesCollectionView,
			sidebar: MainSidebar
		},
		meta: {
			templatesEnabled: true,
			telemetry: { getProperties(route) {
				const templatesStore = useTemplatesStore();
				return {
					collection_id: route.params.id,
					wf_template_repo_session_id: templatesStore.currentSessionId
				};
			} },
			getRedirect: getTemplatesRedirect,
			middleware: ["authenticated"]
		}
	},
	{
		path: "/templates/agents",
		name: VIEWS.PRE_BUILT_AGENT_TEMPLATES,
		components: {
			default: PrebuiltAgentTemplatesView,
			sidebar: MainSidebar
		},
		meta: {
			templatesEnabled: true,
			getRedirect: getTemplatesRedirect,
			middleware: ["authenticated"]
		},
		beforeEnter: (_to, _from, next) => {
			const calloutHelpers = useCalloutHelpers();
			const templatesStore = useTemplatesStore();
			if (!calloutHelpers.isPreBuiltAgentsCalloutVisible.value) window.location.href = templatesStore.websiteTemplateRepositoryURL;
			else next();
		}
	},
	{
		path: "/templates/:id",
		name: VIEWS.TEMPLATE,
		components: {
			default: TemplatesWorkflowView,
			sidebar: MainSidebar
		},
		meta: {
			templatesEnabled: true,
			getRedirect: getTemplatesRedirect,
			telemetry: { getProperties(route) {
				const templatesStore = useTemplatesStore();
				return {
					template_id: tryToParseNumber(Array.isArray(route.params.id) ? route.params.id[0] : route.params.id),
					wf_template_repo_session_id: templatesStore.currentSessionId
				};
			} },
			middleware: ["authenticated"]
		}
	},
	{
		path: "/templates/:id/setup",
		name: VIEWS.TEMPLATE_SETUP,
		components: {
			default: SetupWorkflowFromTemplateView,
			sidebar: MainSidebar
		},
		meta: {
			templatesEnabled: true,
			getRedirect: getTemplatesRedirect,
			telemetry: { getProperties(route) {
				const templatesStore = useTemplatesStore();
				return {
					template_id: tryToParseNumber(Array.isArray(route.params.id) ? route.params.id[0] : route.params.id),
					wf_template_repo_session_id: templatesStore.currentSessionId
				};
			} },
			middleware: ["authenticated"]
		}
	},
	{
		path: "/templates/",
		name: VIEWS.TEMPLATES,
		components: {
			default: TemplatesSearchView,
			sidebar: MainSidebar
		},
		meta: {
			templatesEnabled: true,
			getRedirect: getTemplatesRedirect,
			scrollOffset: 0,
			telemetry: { getProperties() {
				return { wf_template_repo_session_id: useTemplatesStore().currentSessionId };
			} },
			setScrollPosition(pos) {
				this.scrollOffset = pos;
			},
			middleware: ["authenticated"]
		},
		beforeEnter: (_to, _from, next) => {
			const templatesStore = useTemplatesStore();
			if (!templatesStore.hasCustomTemplatesHost) window.location.href = templatesStore.websiteTemplateRepositoryURL;
			else next();
		}
	},
	{
		path: "/workflow/:name/debug/:executionId",
		name: VIEWS.EXECUTION_DEBUG,
		components: {
			default: NodeView,
			header: MainHeader,
			sidebar: MainSidebar,
			footer: LogsPanel
		},
		meta: {
			nodeView: true,
			keepWorkflowAlive: true,
			middleware: ["authenticated", "enterprise"],
			middlewareOptions: { enterprise: { feature: [EnterpriseEditionFeature.DebugInEditor] } }
		}
	},
	{
		path: "/workflow/:name/executions",
		name: VIEWS.WORKFLOW_EXECUTIONS,
		components: {
			default: WorkflowExecutionsView,
			header: MainHeader,
			sidebar: MainSidebar
		},
		meta: {
			keepWorkflowAlive: true,
			middleware: ["authenticated"]
		},
		children: [{
			path: "",
			name: VIEWS.EXECUTION_HOME,
			components: { executionPreview: WorkflowExecutionsLandingPage },
			meta: {
				keepWorkflowAlive: true,
				middleware: ["authenticated"]
			}
		}, {
			path: ":executionId/:nodeId?",
			name: VIEWS.EXECUTION_PREVIEW,
			components: { executionPreview: WorkflowExecutionsPreview },
			meta: {
				keepWorkflowAlive: true,
				middleware: ["authenticated"]
			}
		}]
	},
	{
		path: "/workflow/:name/evaluation",
		name: VIEWS.EVALUATION,
		components: {
			default: EvaluationRootView,
			header: MainHeader,
			sidebar: MainSidebar
		},
		props: { default: true },
		meta: {
			keepWorkflowAlive: true,
			middleware: ["authenticated"]
		},
		children: [{
			path: "",
			name: VIEWS.EVALUATION_EDIT,
			component: EvaluationsView,
			props: true
		}, {
			path: "test-runs/:runId",
			name: VIEWS.EVALUATION_RUNS_DETAIL,
			component: TestRunDetailView,
			props: true
		}]
	},
	{
		path: "/workflow/:workflowId/history/:versionId?",
		name: VIEWS.WORKFLOW_HISTORY,
		components: {
			default: WorkflowHistory,
			sidebar: MainSidebar
		},
		meta: {
			middleware: ["authenticated", "enterprise"],
			middlewareOptions: { enterprise: { feature: [EnterpriseEditionFeature.WorkflowHistory] } }
		}
	},
	{
		path: "/workflows/templates/:id",
		name: VIEWS.TEMPLATE_IMPORT,
		components: {
			default: NodeView,
			header: MainHeader,
			sidebar: MainSidebar
		},
		meta: {
			templatesEnabled: true,
			keepWorkflowAlive: true,
			getRedirect: getTemplatesRedirect,
			middleware: ["authenticated"]
		}
	},
	{
		path: "/workflows/onboarding/:id",
		name: VIEWS.WORKFLOW_ONBOARDING,
		components: {
			default: WorkflowOnboardingView,
			header: MainHeader,
			sidebar: MainSidebar
		},
		meta: {
			templatesEnabled: true,
			keepWorkflowAlive: true,
			getRedirect: () => getTemplatesRedirect(VIEWS.NEW_WORKFLOW),
			middleware: ["authenticated"]
		}
	},
	{
		path: "/workflow/new",
		name: VIEWS.NEW_WORKFLOW,
		components: {
			default: NodeView,
			header: MainHeader,
			sidebar: MainSidebar,
			footer: LogsPanel
		},
		meta: {
			nodeView: true,
			keepWorkflowAlive: true,
			middleware: ["authenticated"]
		}
	},
	{
		path: "/workflows/demo",
		name: VIEWS.DEMO,
		components: {
			default: NodeView,
			footer: DemoFooter
		},
		meta: {
			middleware: ["authenticated"],
			middlewareOptions: { authenticated: { bypass: () => {
				return useSettingsStore().isPreviewMode;
			} } }
		}
	},
	{
		path: "/workflow/:name/:nodeId?",
		name: VIEWS.WORKFLOW,
		components: {
			default: NodeView,
			header: MainHeader,
			sidebar: MainSidebar,
			footer: LogsPanel
		},
		meta: {
			nodeView: true,
			keepWorkflowAlive: true,
			middleware: ["authenticated"]
		}
	},
	{
		path: "/workflow",
		redirect: "/workflow/new"
	},
	{
		path: "/signin",
		name: VIEWS.SIGNIN,
		components: { default: SigninView },
		meta: {
			telemetry: { pageCategory: "auth" },
			middleware: ["guest"]
		}
	},
	{
		path: "/signup",
		name: VIEWS.SIGNUP,
		components: { default: SignupView },
		meta: {
			telemetry: { pageCategory: "auth" },
			middleware: ["guest"]
		}
	},
	{
		path: "/signout",
		name: VIEWS.SIGNOUT,
		components: { default: SignoutView },
		meta: {
			telemetry: { pageCategory: "auth" },
			middleware: ["authenticated"]
		}
	},
	{
		path: "/oauth/consent",
		name: VIEWS.OAUTH_CONSENT,
		components: { default: OAuthConsentView },
		meta: { middleware: ["authenticated"] }
	},
	{
		path: "/setup",
		name: VIEWS.SETUP,
		components: { default: SetupView },
		meta: {
			middleware: ["defaultUser"],
			telemetry: { pageCategory: "auth" }
		}
	},
	{
		path: "/forgot-password",
		name: VIEWS.FORGOT_PASSWORD,
		components: { default: ForgotMyPasswordView },
		meta: {
			middleware: ["guest"],
			telemetry: { pageCategory: "auth" }
		}
	},
	{
		path: "/change-password",
		name: VIEWS.CHANGE_PASSWORD,
		components: { default: ChangePasswordView },
		meta: {
			middleware: ["guest"],
			telemetry: { pageCategory: "auth" }
		}
	},
	{
		path: "/settings",
		name: VIEWS.SETTINGS,
		component: SettingsView,
		props: true,
		redirect: () => {
			if (useSettingsStore().settings.hideUsagePage) return { name: VIEWS.PERSONAL_SETTINGS };
			return { name: VIEWS.USAGE };
		},
		children: [
			{
				path: "usage",
				name: VIEWS.USAGE,
				components: { settingsView: SettingsUsageAndPlan },
				meta: {
					middleware: ["authenticated", "custom"],
					middlewareOptions: { custom: () => {
						return !useSettingsStore().settings.hideUsagePage;
					} },
					telemetry: {
						pageCategory: "settings",
						getProperties() {
							return { feature: "usage" };
						}
					}
				}
			},
			{
				path: "personal",
				name: VIEWS.PERSONAL_SETTINGS,
				components: { settingsView: SettingsPersonalView },
				meta: {
					middleware: ["authenticated"],
					telemetry: {
						pageCategory: "settings",
						getProperties() {
							return { feature: "personal" };
						}
					}
				}
			},
			{
				path: "users",
				name: VIEWS.USERS_SETTINGS,
				components: { settingsView: SettingsUsersView },
				meta: {
					middleware: ["authenticated", "rbac"],
					middlewareOptions: { rbac: { scope: ["user:create", "user:update"] } },
					telemetry: {
						pageCategory: "settings",
						getProperties() {
							return { feature: "users" };
						}
					}
				}
			},
			{
				path: "project-roles",
				components: { settingsView: RouterView },
				children: [
					{
						path: "",
						name: VIEWS.PROJECT_ROLES_SETTINGS,
						component: async () => await __vitePreload(() => import("./ProjectRolesView-Ck8bCAfB.js"), __vite__mapDeps([297,1,2,3,4,5,6,7,8,9,10,11,12,13,15,16,17,18,19,37,24,20,38,87,26,30,23,298]))
					},
					{
						path: "new",
						name: VIEWS.PROJECT_NEW_ROLE,
						component: async () => await __vitePreload(() => import("./ProjectRoleView-eSYKYNYl.js"), __vite__mapDeps([299,1,2,3,4,5,6,7,8,9,10,11,12,13,15,16,17,18,19,37,24,20,38,87,300]))
					},
					{
						path: "edit/:roleSlug",
						name: VIEWS.PROJECT_ROLE_SETTINGS,
						component: async () => await __vitePreload(() => import("./ProjectRoleView-eSYKYNYl.js"), __vite__mapDeps([299,1,2,3,4,5,6,7,8,9,10,11,12,13,15,16,17,18,19,37,24,20,38,87,300]))
					}
				],
				meta: {
					middleware: [
						"authenticated",
						"rbac",
						"custom"
					],
					middlewareOptions: {
						rbac: { scope: ["role:manage"] },
						custom: () => {
							return useEnvFeatureFlag().check.value("CUSTOM_ROLES");
						}
					},
					telemetry: {
						pageCategory: "settings",
						getProperties() {
							return { feature: "project-roles" };
						}
					}
				}
			},
			{
				path: "api",
				name: VIEWS.API_SETTINGS,
				components: { settingsView: SettingsApiView },
				meta: {
					middleware: ["authenticated"],
					telemetry: {
						pageCategory: "settings",
						getProperties() {
							return { feature: "api" };
						}
					}
				}
			},
			{
				path: "environments",
				name: VIEWS.SOURCE_CONTROL,
				components: { settingsView: SettingsSourceControl },
				meta: {
					middleware: ["authenticated", "rbac"],
					middlewareOptions: { rbac: { scope: "sourceControl:manage" } },
					telemetry: {
						pageCategory: "settings",
						getProperties() {
							return { feature: "environments" };
						}
					}
				}
			},
			{
				path: "external-secrets",
				name: VIEWS.EXTERNAL_SECRETS_SETTINGS,
				components: { settingsView: SettingsExternalSecrets },
				meta: {
					middleware: ["authenticated", "rbac"],
					middlewareOptions: { rbac: { scope: ["externalSecretsProvider:list", "externalSecretsProvider:update"] } },
					telemetry: {
						pageCategory: "settings",
						getProperties() {
							return { feature: "external-secrets" };
						}
					}
				}
			},
			{
				path: "sso",
				name: VIEWS.SSO_SETTINGS,
				components: { settingsView: SettingsSso },
				meta: {
					middleware: ["authenticated", "rbac"],
					middlewareOptions: { rbac: { scope: "saml:manage" } },
					telemetry: {
						pageCategory: "settings",
						getProperties() {
							return { feature: "sso" };
						}
					}
				}
			},
			{
				path: "log-streaming",
				name: VIEWS.LOG_STREAMING_SETTINGS,
				components: { settingsView: SettingsLogStreamingView },
				meta: {
					middleware: ["authenticated", "rbac"],
					middlewareOptions: { rbac: { scope: "logStreaming:manage" } },
					telemetry: { pageCategory: "settings" }
				}
			},
			{
				path: "workers",
				name: VIEWS.WORKER_VIEW,
				components: { settingsView: WorkerView },
				meta: { middleware: ["authenticated"] }
			},
			{
				path: "community-nodes",
				name: VIEWS.COMMUNITY_NODES,
				components: { settingsView: SettingsCommunityNodesView },
				meta: {
					middleware: [
						"authenticated",
						"rbac",
						"custom"
					],
					middlewareOptions: {
						rbac: { scope: ["communityPackage:list", "communityPackage:update"] },
						custom: () => {
							return useSettingsStore().isCommunityNodesFeatureEnabled;
						}
					},
					telemetry: { pageCategory: "settings" }
				}
			},
			{
				path: "ldap",
				name: VIEWS.LDAP_SETTINGS,
				components: { settingsView: SettingsLdapView },
				meta: {
					middleware: ["authenticated", "rbac"],
					middlewareOptions: { rbac: { scope: "ldap:manage" } }
				}
			},
			{
				path: "provisioning",
				name: VIEWS.PROVISIONING_SETTINGS,
				components: { settingsView: SettingsProvisioningView },
				meta: {
					middleware: [
						"authenticated",
						"rbac",
						"custom"
					],
					middlewareOptions: {
						rbac: { scope: "provisioning:manage" },
						custom: () => {
							return usePostHog().isFeatureEnabled(SSO_JUST_IN_TIME_PROVSIONING_EXPERIMENT.name);
						}
					},
					telemetry: {
						pageCategory: "settings",
						getProperties() {
							return { feature: "provisioning" };
						}
					}
				}
			}
		]
	},
	{
		path: "/saml/onboarding",
		name: VIEWS.SAML_ONBOARDING,
		components: { default: SamlOnboarding },
		meta: {
			middleware: ["authenticated", "custom"],
			middlewareOptions: { custom: () => {
				const settingsStore = useSettingsStore();
				return useSSOStore().isEnterpriseSamlEnabled && !settingsStore.isCloudDeployment;
			} },
			telemetry: { pageCategory: "auth" }
		}
	},
	...projectsRoutes,
	{
		path: "/entity-not-found/:entityType(credential|workflow)",
		props: true,
		name: VIEWS.ENTITY_NOT_FOUND,
		components: {
			default: EntityNotFound,
			sidebar: MainSidebar
		}
	},
	{
		path: "/entity-not-authorized/:entityType(credential|workflow)",
		props: true,
		name: VIEWS.ENTITY_UNAUTHORIZED,
		components: {
			default: EntityUnAuthorised,
			sidebar: MainSidebar
		}
	},
	{
		path: "/:pathMatch(.*)*",
		name: VIEWS.NOT_FOUND,
		component: ErrorView,
		props: {
			messageKey: "error.pageNotFound",
			errorCode: 404,
			redirectTextKey: "error.goBack",
			redirectPage: VIEWS.HOMEPAGE
		},
		meta: {
			nodeView: true,
			telemetry: { disabled: true }
		}
	}
];
function withCanvasReadOnlyMeta(route) {
	if (!route.meta) route.meta = {};
	route.meta.readOnlyCanvas = !EDITABLE_CANVAS_VIEWS.includes(route?.name ?? "");
	if (route.children) route.children = route.children.map(withCanvasReadOnlyMeta);
	return route;
}
var router = createRouter({
	history: createWebHistory(window.BASE_PATH ?? "/"),
	scrollBehavior(to, _, savedPosition) {
		if (savedPosition === null && to.name === VIEWS.TEMPLATES && to.meta?.setScrollPosition) to.meta.setScrollPosition(0);
	},
	routes: routes.map(withCanvasReadOnlyMeta)
});
router.beforeEach(async (to, from, next) => {
	try {
		await initializeCore();
		await initializeAuthenticatedFeatures(void 0, to.name);
		if (useSettingsStore().showSetupPage) {
			if (to.name === VIEWS.SETUP) return next();
			return next({ name: VIEWS.SETUP });
		}
		const routeMiddleware = to.meta?.middleware ?? [];
		const routeMiddlewareOptions = to.meta?.middlewareOptions ?? {};
		for (const middlewareName of routeMiddleware) {
			let nextCalled = false;
			const middlewareNext = ((location) => {
				next(location);
				nextCalled = true;
			});
			const middlewareOptions = routeMiddlewareOptions[middlewareName];
			const middlewareFn = middleware[middlewareName];
			await middlewareFn(to, from, middlewareNext, middlewareOptions);
			if (nextCalled) return;
		}
		return next();
	} catch (failure) {
		const settingsStore = useSettingsStore();
		if (failure instanceof MfaRequiredError && settingsStore.isMFAEnforced) if (to.name !== VIEWS.PERSONAL_SETTINGS) return next({ name: VIEWS.PERSONAL_SETTINGS });
		else return next();
		if (isNavigationFailure(failure)) console.log(failure);
		else console.error(failure);
	}
});
router.afterEach((to, from) => {
	try {
		const telemetry = useTelemetry();
		const uiStore = useUIStore();
		const templatesStore = useTemplatesStore();
		useExternalHooks().run("main.routeChange", {
			from,
			to
		});
		uiStore.currentView = to.name ?? "";
		if (to.meta?.templatesEnabled) templatesStore.setSessionId();
		else templatesStore.resetSessionId();
		telemetry.page(to);
		const { trackResourceOpened } = useRecentResources();
		trackResourceOpened(to);
	} catch (failure) {
		if (isNavigationFailure(failure)) console.log(failure);
		else console.error(failure);
	}
});
var router_default = router;
export { registerModuleRoutes as n, router_default as t };
